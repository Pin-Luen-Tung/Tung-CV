`timescale 1ns/1ps
`include "../src/top.v"
module lab4_tb;

reg clk;
reg rst;
reg start;
reg [8:0] degree;
reg [11:0] cos;
reg [11:0] sin;
reg [11:0] cos_golden [0:360];
reg [11:0] sin_golden [0:360];
reg [10:0] error;
 top top_inst (
        .clk(clk),
        .rst(rst),
        .start(start),
        .degree(degree),
        .cos(cos),
        .sin(sin),
        .done(done)
    );

initial begin
    $readmemh("../hex/cos_golden.hex", cos_golden);
    $readmemh("../hex/sin_golden.hex", sin_golden);
end

initial begin
        clk = 0;            
        forever #10 clk = ~clk;  
end

initial begin
    rst = 1;
    start = 0;
    degree = 0;
    #100
    rst = 0;
    start=1;
    error=0;
    while(degree<360) begin
        @(negedge clk);
        if(done) begin
            if (cos !== cos_golden[degree] || sin !== sin_golden[degree]) begin
                $display("error at degree %d: cos = %h golden_cos = %h, sin = %h golden_sin = %h", degree, cos, cos_golden[degree], sin, sin_golden[degree]);
                error = error +1;
            end
            else begin
                $display("degree %d: cos = %h golden_cos = %h, sin = %h golden_sin = %h , pass!!!" , degree, cos, cos_golden[degree], sin, sin_golden[degree]);
            end
            degree = degree + 1;
        end
    end
    #100;
    if(error!=0) begin
        $display("â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿");
        $display("â£¿â£¿â£¿â£Ÿâ£¿â£Ÿâ¡¿â â ›â ›â ›â ›â¢›â£›â£›â¡›â¡™â ›â »â ¯â ¿â Ÿâ¢¯â£¿â£¿â£¯â£¿â£¿â£»â£¿â£½â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿");
        $display("â£¿â£¿â£¯â£¿â¡¿â¢‰â£´â£¿â¢Ÿâ¡¾â¢›â¡¿â ¿â¢¶â¢¶â£¾â£¿â£¿â£¿â£¿â£­â£­â£²â¢¶â£¶â¢­â£™â »â£¿â£Ÿâ£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿");
        $display("â£¿â£¿â£»â¡½â£€â¡«â£½â£¿â£¿â£»â Ÿâ €â €â €â ‘â¢½â¢¿â¢Ÿâ¢¿â£¿â â â €â ™â ¿â£·â£â¢·â ˆâ£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿");
        $display("â£¿â£¿â ‹â£°â¢Ÿâ ›â¢â£ºâ¡­â£ƒâ¡€ðŸ‘â €â €â£¨â£—â£¾â£·â¢˜â£„ðŸ‘ â£€â£”â¢ºâ£Ÿâ¢¿â£¥â ›â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¢¿");
        $display("â¡â£µâ¡Žâ£µâ£±â£¶â¡€â ˆâ ™â¢¯â£³â£¶â£¶â¢‚â£¼â ¹â ¿â ›â£¿â£¦â¢³â£„â£¶â¡ºâ â ˆâ â¢°â â£·â ˆâ£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿");
        $display("â¡€â¢¿â£¿â£„â£¿â¢¿â£§â¡€â €â €â €â €â ™â ›â£›â¡—â£žâ£‰â¡‰â¢‰â£ˆâ¢­â¡„â €â €â €â €â¢¨â£¾â¡¹â¢€â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿");
        $display("â£·â£Œâ ¿â£¼â£œâ£¿â£¿â¡½â£¦â €â €â €â£¼â£·â¡¸â£°â¡Žâ¢‹â£¾â£·â¢£â£¿â£‡â €â €â €â €â£¸â¡â¢ â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿            Simulation Fail !!! There are %d error     â£¿â£¿â£¿â£¿â£¿â£¿",error);
        $display("â£¿â£¿â£¦â ™â£¿â¡¿â£¿â£¿â£Ÿâ£·â£„â €â ˆâ ‰â â ›â ƒâ ˜â ¿â ¿â ˆâ ›â ‰â €â €â €â €â¢¿â¡‡â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿");
        $display("â£¿â£¿â£¿â£§â£˜â ¿â¡½â£¿â£¿â£®â£³â£±â¢„â¡€â €â €â €â €â €â €â €â €â¡€â €â €â €â €â ‰â£·â¢»â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿");
        $display("â£¿â£¿â¢¿â£½â£¿â£·â£Œâ ™â¢¿â£¿â£¿â£¿â£·â£â¢¦â¡€â €â â£†â¢·â£¿â¡Žâ£·â €â €â €â €â¢ â¡Ÿâ¢¸â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿");
        $display("â£¿â£¿â£¿â£¿â¡¿â£¿â£»â£¿â£¶â£®â£­â¡˜â »â¢¿â£·â¡ºâ£´â£¦â£¥â£â£ˆâ£â£€â ˆâ ¤â£–â£¶â£¾â£µâ¢¸â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿");
        $display("â£¿â£¿â£·â£¿â£¿â£¿â£¿â¡¿â£¿â£»â£¿â£¿â£·â£¦â£Œâ£™â£’â¡¶â ¾â ¿â£¿â£¿â ¿â ¿â ¿â£»â¡½â ›â¢Ÿâ£¼â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿");
        $display("â£¿â£¿â£¯â£¿â£·â£¿â£Ÿâ£¿â£¿â£¿â£¿â£»â£¿â£»â£¿â£¿â£¿â£¿â£¿â£·â£¶â£¤â£¤â£¤â£­â£¥â£¤â£¶â£¾â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿");
        $display("â£¿â£¿â£Ÿâ£¿â£¯â£¿â£¿â£¿â¢¿â£½â£¾â£¿â£¿â¢¿â£¿â£»â£½â£¿â¡¿â£Ÿâ£¿â£¿â£¿â¡¿â£¿â£¿â£¿â£¿â¢¿â£¿â£½â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿");
        $finish;
    end
    else begin
        $display("â£¿â£¿â£¿â£¿â£¿â£¿â ¿â¢‹â£¥â£´â£¶â£¶â£¶â£¶â£¬â£™â »â Ÿâ£‹â£­â£­â£­â£­â¡™â »â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿");
        $display("â£¿â£¿â£¿â£¿â¡¿â¢‹â£´â£¿â£¿â ¿â¢Ÿâ£›â£›â£›â ¿â¢·â¡¹â£¿â£¿â£¿â£¿â£¿â£¿â£†â ¹â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿");
        $display("â£¿â£¿â£¿â¡¿â¢â£¾â£¿â£¿â£´â£¿â£¿â£¿â£¿â ¿â ¿â ·â ¥â ±â£¶â£¶â£¶â£¶â¡¶â ®â ¤â£Œâ¡™â¢¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿");
        $display("â£¿â¡¿â¢›â¡â£¾â£¿â£¿â£¿â¡¿â¢Ÿâ¡«â¢•â£ªâ¡­â ¥â¢­â£­â£‰â¡‚â£‰â¡’â£¤â¡­â¡‰â ©â£¥â£°â ‚â ¹â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿");
        $display("â¡Ÿâ¢ â£¿â£±â£¿â£¿â£¿â£â£›â¢²â£¾â£¿â ƒâ „â â ˆâ£¿â£¿â£¿â£¿â£¿â£¿â „â â ƒâ¢¸â£¿â£¿â¡§â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿");
        $display("â¢ â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£‡â£Šâ ™â ³â ¤â ¤â ¾â£Ÿâ ›â â£¹â£›â£›â£¢â£€â£ â£›â¡¯â¢‰â£°â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿");
        $display("â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£·â¡¶â ¶â¢’â£ â£¼â£¿â£¿â£›â »â ›â¢›â£›â ‰â£´â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿");
        $display("â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â¢›â¡›â¢¿â£¿â£¿â£¶â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£·â¡ˆâ¢¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿         Simulation Pass !!!     â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿");
        $display("â£¿â£¿â£¿â£¿â£¿â£¿â£¿â ¸â£¿â¡»â¢·â£â£›â »â ¿â ¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â ¿â¢‡â¡˜â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿");
        $display("â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£·â£â »â ¶â£¬â£â£›â£›â “â ¶â ¶â ¶â ¤â ¬â ­â ¤â ¶â ¶â žâ ›â£¡â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿");
        $display("â¢¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£·â£¶â£¬â£­â£â£™â£›â£›â£›â ›â ›â ›â ¿â ¿â ¿â ›â£ â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿");
        $display("â£¦â£ˆâ ‰â¢›â »â ¿â ¿â¢¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â ¿â ›â£â£´â£¾â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿");
        $display("â£¿â£¿â£¿â£¶â£®â£­â£â£’â£’â£’â ‚â  â ¬â ­â ­â ­â¢€â£€â£ â£„â¡˜â ¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿");
        $display("â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¦â¡ˆâ¢¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿");
    end
    $finish;
end

 initial begin
    $fsdbDumpfile("top.fsdb");
    $fsdbDumpvars;
    $fsdbDumpMDA;
end

endmodule